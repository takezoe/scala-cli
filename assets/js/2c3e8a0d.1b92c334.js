"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6607],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),m=i,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||r;return n?a.createElement(h,o(o({ref:t},p),{},{components:n})):a.createElement(h,o({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},8890:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return p},default:function(){return u}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),o=["components"],l={title:"IDE support",sidebar_position:10},s=void 0,c={unversionedId:"guides/ide",id:"guides/ide",isDocsHomePage:!1,title:"IDE support",description:"IDE support is under development mainly because changes needs to be done in both Metals and IntelliJ.",source:"@site/docs/guides/ide.md",sourceDirName:"guides",slug:"/guides/ide",permalink:"/docs/guides/ide",editUrl:"https://github.com/Virtuslab/scala-cli/edit/master/website/docs/guides/ide.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{title:"IDE support",sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Managing dependencies",permalink:"/docs/guides/dependencies"},next:{title:"Using directives",permalink:"/docs/guides/using-directives"}},p=[{value:"Metals",id:"metals",children:[],level:2},{value:"IntelliJ",id:"intellij",children:[],level:2}],d={toc:p};function u(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"IDE support is under development mainly because changes needs to be done in both Metals and IntelliJ."))),(0,r.kt)("p",null,"Scala CLI currently Scala integrates with IDEs using ",(0,r.kt)("a",{parentName:"p",href:"https://build-server-protocol.github.io/"},"BSP protocol"),". At this moment Scala CLI is not automatically detected so we need to use ",(0,r.kt)("a",{parentName:"p",href:"https://build-server-protocol.github.io/docs/server-discovery.html"},"Build Server Discovery")," from the BSP protocol. This is the main reason we create the BSP connection details file (",(0,r.kt)("inlineCode",{parentName:"p"},".bsp/scala-cli.json"),") for your editor to pick up."),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"If none of the following commands were ran: ",(0,r.kt)("inlineCode",{parentName:"p"},"compile"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"run"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"test"),",\n",(0,r.kt)("inlineCode",{parentName:"p"},"setup-ide")," or a ",(0,r.kt)("inlineCode",{parentName:"p"},".bsp/scala-cli.json")," file has yet to be created (or was deleted), your editor\nwon't pick up scala-cli as a build server. In that case, simply run one of the\nthose commands and the file will be created."))),(0,r.kt)("p",null,"Since Scala CLI has a command-line-first approach that is reflected in the IDE\nintegrations. By default, Scala CLI stores options passed to the last ",(0,r.kt)("inlineCode",{parentName:"p"},"compile"),",\n",(0,r.kt)("inlineCode",{parentName:"p"},"run")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"test")," commands and use those options to configure your IDE. "),(0,r.kt)("p",null,"For more control we also expose a ",(0,r.kt)("a",{parentName:"p",href:"/docs/commands/setup-ide"},(0,r.kt)("inlineCode",{parentName:"a"},"setup-ide")," command")," that allows to fine tune options passed to IDE."),(0,r.kt)("p",null,"Once ",(0,r.kt)("inlineCode",{parentName:"p"},"setup-ide")," is used, Scala CLI does not update configuration based on the latest command."),(0,r.kt)("p",null,"To enable automatic updates again, remove the ",(0,r.kt)("inlineCode",{parentName:"p"},".bsp")," directory and run ",(0,r.kt)("inlineCode",{parentName:"p"},"compile"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"run")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"test")," to recreate the connection details file (",(0,r.kt)("inlineCode",{parentName:"p"},".bsp/scala-cli.json"),")."),(0,r.kt)("p",null,"For now non-local sources are supported. What are non-local sources? Gists, URLs or piped sources."),(0,r.kt)("p",null,"Scala CLI was tested with two main IDEs for Scala:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://scalameta.org/metals/"},"Metals"),": LSP server for Scala used with ",(0,r.kt)("a",{parentName:"li",href:"https://code.visualstudio.com/"},"Visual Studio Code"),", ",(0,r.kt)("a",{parentName:"li",href:"https://www.vim.org/"},"Vim")," and many other editors"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.jetbrains.com/idea/"},"Intelij Idea")," with ",(0,r.kt)("a",{parentName:"li",href:"https://confluence.jetbrains.com/display/SCA/Scala+Plugin+for+IntelliJ+IDEA?_ga=2.54176744.1963952405.1634470110-410935139.1631638301"},"Scala Plugin")," installed")),(0,r.kt)("p",null,"In ideal world, we would replace the rest of this Guide with something along the\nlines of: ",(0,r.kt)("inlineCode",{parentName:"p"},"Scala CLI works with all IDEs above as you would expect")," however\nmainly due to how fresh Scala CLI is and also due to our radical approach to the\nproject structure using a Scala CLI-powered projects with your favourite IDE may\nnot be as amazing as we would like to be."),(0,r.kt)("p",null,"Proper IDE integration is our top priority at the moment."),(0,r.kt)("h2",{id:"metals"},"Metals"),(0,r.kt)("p",null,"Once Metals picks up proper project structure then basic features like navigation, diagnostics or code completion should work."),(0,r.kt)("p",null,"The Current release Metals (0.10.8) is not able to pick changes in the build\nstructure automatically and this includes adding new source files. In order\nfor Metals to pick up new files or changes in build structure you'll need to\ntrigger the 'Restart build server' command."),(0,r.kt)("p",null,"Main classes and tests are at this moment not recognized in Metals."),(0,r.kt)("p",null,"Generally, mainly due to problems with keeping project structure up to date\nMetals can assists with writing code while using Scala CLI, but it cannot be the\nsource of truth and we recommend falling back to command line in such cases."),(0,r.kt)("h2",{id:"intellij"},"IntelliJ"),(0,r.kt)("p",null,"In terms of IntelliJ, the most significant problem is that IntelliJ requires sources to be placed within a directory. This means that top level sources are not recognized as proper sources."),(0,r.kt)("p",null,"With IntelliJ, we strongly suggested to placed your sources within a directory (like ",(0,r.kt)("inlineCode",{parentName:"p"},"src"),")."),(0,r.kt)("p",null,"IntelliJ currently does not automatically pick up changes in project structure so any change in dependencies, compiler options etc. needs manual reload."),(0,r.kt)("p",null,"Similarly to Metals, we don't currently advise using Intellij as a source of\ntruth and we recommend falling back to command line in such cases."))}u.isMDXComponent=!0}}]);